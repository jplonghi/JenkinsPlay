pipeline {
	agent none
	stages{
		
		
		stage('Clone repository') {
			steps{
                checkout scm
			}
		}

		stage('Master'){
			when{
				branch 'master'
			}
			stages{
				stage('Build Prod'){
					steps{
						bat "echo Build For Prod ${env.BRANCH_NAME}"
					}
				}
				stage('Deploy Prod'){
					steps{
						bat "echo Build in PROD"
					}
				}
			}
			
		  
		}
		
        stage('Feature'){
			when{
				branch 'feature/*'
			}
			stages{
				stage('Build DEV'){
					steps{
						bat "echo Build For DEV ${env.BRANCH_NAME}"
					}
				}
				stage('Deploy DEV'){
					steps{
						bat "echo Build in DEV"
					}
				}
			}
		}
    }

}